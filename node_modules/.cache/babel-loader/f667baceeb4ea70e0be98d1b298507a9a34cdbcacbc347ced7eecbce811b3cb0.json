{"ast":null,"code":"import _slicedToArray from\"/home/codenomad/Downloads/material-dashboard-react-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/* eslint-disable react/prop-types */ /* eslint-disable react/function-component-definition */ /**\n=========================================================\n\n=========================================================\n\nUSER DETAILS SHOW\n\n =========================================================\n\n*/ /*eslint-disable*/ // Material Dashboard 2 React components\nimport MDBox from\"components/MDBox\";import MDTypography from\"components/MDTypography\";import MDAvatar from\"components/MDAvatar\";import MDBadge from\"components/MDBadge\";// Images\nimport team2 from\"assets/images/team-2.jpg\";import team3 from\"assets/images/team-3.jpg\";import team4 from\"assets/images/team-4.jpg\";import{useEffect,useState}from\"react\";import axios from\"axios\";import{API}from\"config/Api\";import Icon from\"@mui/material/Icon\";import Menu from\"@mui/material/Menu\";import MenuItem from\"@mui/material/MenuItem\";import ReactSwitch from\"react-switch\";import MDButton from\"components/MDButton\";import MDSnackbar from\"components/MDSnackbar\";import{Switch}from\"@mui/material\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function data(){//  States Management ========================================================================>\nvar adminAccessToken=localStorage.getItem(\"Admin-Token\");var _useState=useState([]),_useState2=_slicedToArray(_useState,2),UserList=_useState2[0],SetUserList=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),checkState=_useState4[0],SetCheckState=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),SuccessChangeStatus=_useState6[0],SetSuccessChangeStatus=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),SuccessDelete=_useState8[0],setSuccessDelete=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),menu=_useState10[0],setMenu=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),userID=_useState12[0],setUserID=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),UserDetail=_useState14[0],setUserDetail=_useState14[1];//  UseEffects Management ========================================================================>\nuseEffect(function(){axios.get(API.BASE_URL+\"userlist/\",{headers:{Authorization:\"Bearer \".concat(adminAccessToken)}}).then(function(res){SetUserList(res.data.data);setUserDetail(false);}).catch(function(err){console.log(err);});},[UserDetail]);//  Function Calling ========================================================================>\nvar handleCheckboxChange=function handleCheckboxChange(user){var updatedUserList=UserList.map(function(u){if(u.id===user.id){u.is_active=!u.is_active;}return u;});SetUserList(updatedUserList);axios.post(API.BASE_URL+\"userstatus/\".concat(user.id,\"/\"),{is_active:user.is_active}).then(function(res){SetSuccessChangeStatus(true);}).catch(function(err){console.error(\"Error updating user status:\",err);SetUserList(UserList);});};var openMenu=function openMenu(_ref,id){var currentTarget=_ref.currentTarget;setMenu(currentTarget);setUserID(id);};var handleDeleteUser=function handleDeleteUser(userid){axios.delete(API.BASE_URL+\"userdelete/\"+userid+\"/\").then(function(res){console.log(\"delete user\",userid);setSuccessDelete(true);setUserDetail(true);}).catch(function(err){console.log(err);});};var closeMenu=function closeMenu(){return setMenu(null);};var closeWarningSB=function closeWarningSB(){SetSuccessChangeStatus(false);setSuccessDelete(false);};// Super Global Variables ----------============================================>\nvar Author=function Author(_ref2){var image=_ref2.image,name=_ref2.name,email=_ref2.email;return/*#__PURE__*/_jsxs(MDBox,{display:\"flex\",alignItems:\"center\",lineHeight:1,children:[/*#__PURE__*/_jsx(MDAvatar,{src:image,name:name,size:\"sm\"}),/*#__PURE__*/_jsxs(MDBox,{ml:2,lineHeight:1,children:[/*#__PURE__*/_jsx(MDTypography,{display:\"block\",variant:\"button\",fontWeight:\"medium\",children:name}),/*#__PURE__*/_jsx(MDTypography,{variant:\"caption\",children:email})]})]});};var Job=function Job(_ref3){var title=_ref3.title,description=_ref3.description;return/*#__PURE__*/_jsx(MDBox,{lineHeight:1,textAlign:\"left\",children:/*#__PURE__*/_jsx(MDTypography,{display:\"block\",variant:\"caption\",color:\"text\",fontWeight:\"medium\",children:title})});};// USer Management =================================================================>\nreturn{columns:[{Header:\"Users\",accessor:\"user\",width:\"45%\",align:\"left\"},{Header:\"Role\",accessor:\"function\",align:\"left\"},{Header:\"status\",accessor:\"status\",align:\"center\"},{Header:\"Created\",accessor:\"created\",align:\"center\"},{Header:\"action\",accessor:\"action\",align:\"center\"}],rows:UserList.map(function(user){return{user:/*#__PURE__*/_jsx(Author,{image:team4,name:user.firstname+\" \"+user.lastname,email:user.email},user.id),function:/*#__PURE__*/_jsx(Job,{title:user.is_admin?\"admin\":\"user\"},user.id),status:/*#__PURE__*/_jsxs(MDBox,{ml:-1,children:[user.is_active?checkState:!checkState,/*#__PURE__*/_jsx(ReactSwitch,{checked:user.is_active?!checkState:checkState,onChange:function onChange(){return handleCheckboxChange(user);},color:\"success\"})]},user.id),created:/*#__PURE__*/_jsx(MDTypography,{component:\"a\",href:\"#\",variant:\"caption\",color:\"text\",fontWeight:\"medium\",children:user.created_at},user.id),action:/*#__PURE__*/_jsxs(MDTypography,{variant:\"caption\",color:\"text\",fontWeight:\"medium\",children:[/*#__PURE__*/_jsx(MDBox,{color:\"text\",px:2,children:/*#__PURE__*/_jsx(Icon,{sx:{cursor:\"pointer\",fontWeight:\"bold\"},fontSize:\"small\",onClick:function onClick(event){return openMenu(event,user.id);},children:\"more_vert\"})}),/*#__PURE__*/_jsxs(Menu,{id:\"simple-menu\",anchorEl:menu,anchorOrigin:{vertical:\"top\",horizontal:\"left\"},transformOrigin:{vertical:\"top\",horizontal:\"right\"},open:Boolean(menu),onClose:closeMenu,children:[/*#__PURE__*/_jsx(MenuItem,{children:\"Edit\"}),/*#__PURE__*/_jsx(MenuItem,{style:{color:\"red\"},onClick:function onClick(){handleDeleteUser(userID);},children:\" Delete\"})]}),/*#__PURE__*/_jsx(MDSnackbar,{color:\"success\",icon:\"star\",title:\"Status Changed\",content:\"Status Changed Successfully!\",dateTime:\"Now\",open:SuccessChangeStatus,onClose:closeWarningSB,close:closeWarningSB,bgWhite:true}),/*#__PURE__*/_jsx(MDSnackbar,{color:\"success\",icon:\"delete\",title:\"User Deleted\",content:\"User Deleted Successfully!\",dateTime:\"Now\",open:SuccessDelete,onClose:closeWarningSB,close:closeWarningSB,bgWhite:true})]})};})};}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}