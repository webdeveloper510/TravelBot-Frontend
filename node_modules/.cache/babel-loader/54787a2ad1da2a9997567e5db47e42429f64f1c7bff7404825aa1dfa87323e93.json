{"ast":null,"code":"import _slicedToArray from\"/home/codenomad/Downloads/material-dashboard-react-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/* eslint-disable react/prop-types */ /* eslint-disable react/function-component-definition */ /**\n=========================================================\n* Admin Dashboard,Dashboard Files get page.\n=========================================================\n*/ /*eslint-disable*/ // @mui material components\nimport Tooltip from\"@mui/material/Tooltip\";import MDBox from\"components/MDBox\";import MDTypography from\"components/MDTypography\";import MDAvatar from\"components/MDAvatar\";import MDProgress from\"components/MDProgress\";import MDButton from\"components/MDButton\";// Images\nimport logo from\"assets/csv/paragraph-svgrepo-com.svg\";import logoAtlassian from\"assets/images/small-logos/logo-atlassian.svg\";import logoSlack from\"assets/images/small-logos/logo-slack.svg\";import logoSpotify from\"assets/images/small-logos/logo-spotify.svg\";import logoJira from\"assets/images/small-logos/logo-jira.svg\";import logoInvesion from\"assets/images/small-logos/logo-invision.svg\";import team1 from\"assets/images/team-1.jpg\";import team2 from\"assets/images/team-2.jpg\";import team3 from\"assets/images/team-3.jpg\";import team4 from\"assets/images/team-4.jpg\";import{useEffect,useState}from\"react\";import axios from\"axios\";import{API}from\"config/Api\";import Icon from\"@mui/material/Icon\";import Menu from\"@mui/material/Menu\";import MenuItem from\"@mui/material/MenuItem\";import MDSnackbar from\"components/MDSnackbar\";import{Grid}from\"@mui/material\";import TextField from\"@mui/material/TextField\";import MDInput from\"components/MDInput\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function data(props){// States Management\nconsole.log(props,\"-----------\");var adminAccessToken=localStorage.getItem(\"Admin-Token\");var _useState=useState([]),_useState2=_slicedToArray(_useState,2),FilesList=_useState2[0],SetFilesList=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),FilesUrl=_useState4[0],SetFilesUrl=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),FilesId=_useState6[0],SetFilesId=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),SuccessDeleteFile=_useState8[0],setSuccessDeleteFile=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),menu=_useState10[0],setMenu=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),showFeedInput=_useState12[0],setShowFeedInput=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),feedQuestionAdd=_useState14[0],setFeedQuestionAdd=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),UpdateFeedValue=_useState16[0],setUpdateFeedValue=_useState16[1];var handleAddQuestion=function handleAddQuestion(event){setFeedQuestionAdd(event.target.value);};var openMenu=function openMenu(_ref,file,id){var currentTarget=_ref.currentTarget;setMenu(currentTarget);SetFilesUrl(file);SetFilesId(id);};var closeMenu=function closeMenu(){return setMenu(null);};var handleEditFile=function handleEditFile(FilesId){console.log(FilesId);setShowFeedInput(true);};var handleSubmitUpdateFeed=function handleSubmitUpdateFeed(){setShowFeedInput(false);setUpdateFeedValue(true);};var handleCloseFeed=function handleCloseFeed(){setShowFeedInput(false);};// Function Calling\nuseEffect(function(){axios.get(API.BASE_URL+\"csvfilehistory/\",{headers:{Authorization:\"Bearer \".concat(adminAccessToken)}}).then(function(res){SetFilesList(res.data.data);props.setTrigger(false);}).catch(function(err){console.log(err);});},[props.trigger]);// const handleDeleteFile = (id) => {\n//   axios.delete(API.BASE_URL+\"deletefile/\"+id+\"/\",{\n//     headers: {\n//       Authorization: `Bearer ${adminAccessToken}`,\n//     },\n//   }).then((res)=>{\n//     setSuccessDeleteFile(true);\n//     props.setTrigger(true)\n//   }).catch((err)=>{\n//     console.log(err)\n//   })\n// }\nvar closeWarningSB=function closeWarningSB(){setSuccessDeleteFile(false);};var Filename=function Filename(_ref2){var image=_ref2.image,name=_ref2.name;return/*#__PURE__*/_jsxs(MDBox,{display:\"flex\",alignItems:\"center\",lineHeight:1,children:[/*#__PURE__*/_jsx(MDAvatar,{src:image,name:name,size:\"sm\"}),/*#__PURE__*/_jsx(MDTypography,{variant:\"button\",fontWeight:\"medium\",ml:1,lineHeight:1,children:name})]});};return{columns:[{Header:\"S.No\",accessor:\"srno\",width:\"45%\",align:\"left\"},{Header:\"Question\",accessor:\"question\",width:\"45%\",align:\"left\"},{Header:\"Answers\",accessor:\"answers\",width:\"45%\",align:\"left\"},{Header:\"Action\",accessor:\"action\",align:\"center\"}],rows:FilesList.map(function(files){return{question:/*#__PURE__*/_jsx(MDBox,{children:\"Is this fine to go Russia in Winters ?\"}),srno:/*#__PURE__*/_jsx(MDBox,{display:\"flex\",py:1,children:\"1\"}),answers:/*#__PURE__*/_jsx(MDBox,{children:\"Traveling to Russia in winter can be a unique and exciting experience, but it's important to be prepared and plan accordingly because Russian winters are quite cold.\"}),action:/*#__PURE__*/_jsxs(MDTypography,{variant:\"caption\",color:\"text\",fontWeight:\"medium\",children:[/*#__PURE__*/_jsx(MDBox,{color:\"text\",px:2,children:/*#__PURE__*/_jsx(Icon,{sx:{cursor:\"pointer\",fontWeight:\"bold\"},fontSize:\"small\",onClick:function onClick(event){return openMenu(event,files.csvfile,files.id);},children:\"more_vert\"})}),/*#__PURE__*/_jsxs(Menu,{id:\"simple-menu\",anchorEl:menu,anchorOrigin:{vertical:\"top\",horizontal:\"left\"},transformOrigin:{vertical:\"top\",horizontal:\"right\"},open:Boolean(menu),onClose:closeMenu,children:[/*#__PURE__*/_jsx(MenuItem,{style:{color:\"blue\"},onClick:function onClick(){handleEditFile(FilesId);},children:\"Edit\"}),/*#__PURE__*/_jsx(MenuItem,{style:{color:\"red\"},children:\"Delete\"})]}),/*#__PURE__*/_jsx(MDSnackbar,{color:\"success\",icon:\"delete\",title:\"File Deleted\",content:\"File Deleted Successfully!\",dateTime:\"Now\",open:SuccessDeleteFile,onClose:closeWarningSB,close:closeWarningSB,bgWhite:true}),/*#__PURE__*/_jsx(MDSnackbar,{color:\"success\",icon:\"check\",title:\"Feed Updated\",content:\"Feed Updated Successfully!\",dateTime:\"Now\",open:UpdateFeedValue,onClose:closeWarningSB,close:closeWarningSB,bgWhite:true}),showFeedInput?/*#__PURE__*/_jsx(\"div\",{className:\"modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"close-div\",children:/*#__PURE__*/_jsx(\"button\",{className:\"close-button\",icon:\"close\",onClick:handleCloseFeed,children:/*#__PURE__*/_jsx(Icon,{children:\"close\"})})}),/*#__PURE__*/_jsxs(Grid,{item:true,children:[/*#__PURE__*/_jsx(MDTypography,{variant:\"h6\",fontWeight:\"medium\",textTransform:\"capitalize\",textAlign:\"center\",children:\"Enter Feed\"}),/*#__PURE__*/_jsx(MDBox,{pt:4,pb:3,px:3,children:/*#__PURE__*/_jsxs(MDBox,{component:\"form\",role:\"form\",children:[/*#__PURE__*/_jsx(MDBox,{mb:2,children:/*#__PURE__*/_jsx(MDInput,{type:\"text\",label:\"Question\",onChange:handleAddQuestion,value:feedQuestionAdd,fullWidth:true})}),/*#__PURE__*/_jsx(MDBox,{mb:2,children:/*#__PURE__*/_jsx(TextField,{id:\"outlined-multiline-static\",label:\"Add Feed\",multiline:true,rows:4,fullWidth:true,variant:\"outlined\"})}),/*#__PURE__*/_jsx(MDBox,{mt:4,mb:1,children:/*#__PURE__*/_jsx(MDButton,{variant:\"gradient\",color:\"info\",fullWidth:true,onClick:handleSubmitUpdateFeed,children:\"Feed\"})})]})})]})]})}):/*#__PURE__*/_jsx(_Fragment,{})]})};})};}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}