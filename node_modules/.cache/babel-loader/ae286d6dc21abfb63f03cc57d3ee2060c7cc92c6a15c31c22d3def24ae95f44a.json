{"ast":null,"code":"import _slicedToArray from\"/home/codenomad/Downloads/material-dashboard-react-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/* eslint-disable react/prop-types */ /* eslint-disable react/function-component-definition */ /**\n=========================================================\n\n=========================================================\n\nUSER DETAILS SHOW\n\n =========================================================\n\n*/ /*eslint-disable*/ // Material Dashboard 2 React components\nimport MDBox from\"components/MDBox\";import MDTypography from\"components/MDTypography\";import MDAvatar from\"components/MDAvatar\";import MDBadge from\"components/MDBadge\";// Images\nimport team2 from\"assets/images/team-2.jpg\";import team3 from\"assets/images/team-3.jpg\";import team4 from\"assets/images/team-4.jpg\";import{useEffect,useState}from\"react\";import axios from\"axios\";import{API}from\"config/Api\";import Icon from\"@mui/material/Icon\";import Menu from\"@mui/material/Menu\";import MenuItem from\"@mui/material/MenuItem\";import ReactSwitch from\"react-switch\";import MDButton from\"components/MDButton\";import{Switch}from\"@mui/material\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function data(){var adminAccessToken=localStorage.getItem(\"Admin-Token\");var _useState=useState([]),_useState2=_slicedToArray(_useState,2),UserList=_useState2[0],SetUserList=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),StatusCheck=_useState4[0],setStatusCheck=_useState4[1];var handleChangeCheck=function handleChangeCheck(event,id,status){console.log(\"click\",event.target.checked,id,status);// setStatusCheck(status)\naxios.post(API.BASE_URL+\"userstatus/\"+id+\"/\",{is_active:status}).then(function(response){console.log(\"success\",response);}).catch(function(error){console.log(\"errro\");});};var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),menu=_useState6[0],setMenu=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),selectedUserId=_useState8[0],setSelectedUserId=_useState8[1];// const openMenu = ({ currentTarget }) => setMenu(currentTarget);\nvar openMenu=function openMenu(userId){setMenu(function(){return userId;});// setMenu(currentTarget);\nsetSelectedUserId(userId);};var closeMenu=function closeMenu(){return setMenu(null);};var handleDeleteUser=function handleDeleteUser(userid){console.log(\"delete user\",userid);axios.delete(API.BASE_URL+\"userdelete/\"+userid+\"/\").then(function(response){window.location.reload();}).catch(function(err){console.log(err);});};useEffect(function(){axios.get(API.BASE_URL+\"userlist/\",{headers:{Authorization:\"Bearer \".concat(adminAccessToken)}}).then(function(res){SetUserList(res.data.data);}).catch(function(err){console.log(err);});},[]);var Author=function Author(_ref){var image=_ref.image,name=_ref.name,email=_ref.email;return/*#__PURE__*/_jsxs(MDBox,{display:\"flex\",alignItems:\"center\",lineHeight:1,children:[/*#__PURE__*/_jsx(MDAvatar,{src:image,name:name,size:\"sm\"}),/*#__PURE__*/_jsxs(MDBox,{ml:2,lineHeight:1,children:[/*#__PURE__*/_jsx(MDTypography,{display:\"block\",variant:\"button\",fontWeight:\"medium\",children:name}),/*#__PURE__*/_jsx(MDTypography,{variant:\"caption\",children:email})]})]});};var Job=function Job(_ref2){var title=_ref2.title,description=_ref2.description;return/*#__PURE__*/_jsx(MDBox,{lineHeight:1,textAlign:\"left\",children:/*#__PURE__*/_jsx(MDTypography,{display:\"block\",variant:\"caption\",color:\"text\",fontWeight:\"medium\",children:title})});};// userdelete\nreturn{columns:[{Header:\"Users\",accessor:\"user\",width:\"45%\",align:\"left\"},{Header:\"Role\",accessor:\"function\",align:\"left\"},{Header:\"status\",accessor:\"status\",align:\"center\"},{Header:\"Created\",accessor:\"created\",align:\"center\"},{Header:\"action\",accessor:\"action\",align:\"center\"}],rows:UserList.map(function(user){return{user:/*#__PURE__*/_jsx(Author,{image:team4,name:user.firstname+\" \"+user.lastname,email:user.email},user.id),function:/*#__PURE__*/_jsx(Job,{title:user.is_admin?\"admin\":\"user\"},user.id),status:/*#__PURE__*/_jsx(MDBox,{ml:-1,children:/*#__PURE__*/_jsx(Switch,{checked:StatusCheck,onChange:function onChange(event){return handleChangeCheck(event,user.id,!StatusCheck);}})},user.id),created:/*#__PURE__*/_jsx(MDTypography,{component:\"a\",href:\"#\",variant:\"caption\",color:\"text\",fontWeight:\"medium\",children:user.created_at},user.id),action:/*#__PURE__*/_jsxs(MDTypography,{component:\"a\",href:\"#\",variant:\"caption\",color:\"text\",fontWeight:\"medium\",children:[/*#__PURE__*/_jsx(MDBox,{color:\"text\",px:2,children:/*#__PURE__*/_jsx(Icon,{onClick:function onClick(){return openMenu(user.id);},sx:{cursor:\"pointer\",fontWeight:\"bold\"},fontSize:\"small\"// onClick={openMenu}\n,children:\"more_vert\"})}),/*#__PURE__*/_jsx(Menu,{id:user.id,anchorEl:menu===user.id?document.getElementById(\"menu-\".concat(user.id)):null// open={menu === user.id}\n// onClose={closeMenu}\n,anchorOrigin:{vertical:\"bottom\",horizontal:\"right\"},transformOrigin:{vertical:\"top\",horizontal:\"right\"},className:\"position-relative\",open:Boolean(menu),onClose:closeMenu,children:/*#__PURE__*/_jsx(MenuItem,{onClick:function onClick(){handleDeleteUser(selectedUserId);},style:{color:\"danger\"},children:\"Delete\"})})]},user.id)};})};}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}