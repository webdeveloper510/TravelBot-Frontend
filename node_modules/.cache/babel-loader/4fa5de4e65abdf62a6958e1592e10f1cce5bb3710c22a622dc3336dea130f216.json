{"ast":null,"code":"import _slicedToArray from\"/home/codenomad/Downloads/material-dashboard-react-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/ /*eslint-disable*/ // @mui material components\nimport Grid from\"@mui/material/Grid\";// Material Dashboard 2 React components\nimport MDBox from\"components/MDBox\";import MDButton from\"components/MDButton\";import{Icon}from\"@mui/material\";// Material Dashboard 2 React example components\nimport DashboardLayout from\"examples/LayoutContainers/DashboardLayout\";import DashboardNavbar from\"examples/Navbars/DashboardNavbar\";import Footer from\"examples/Footer\";import ReportsBarChart from\"examples/Charts/BarCharts/ReportsBarChart\";import ReportsLineChart from\"examples/Charts/LineCharts/ReportsLineChart\";import ComplexStatisticsCard from\"examples/Cards/StatisticsCards/ComplexStatisticsCard\";// Data\nimport reportsBarChartData from\"layouts/dashboard/data/reportsBarChartData\";import reportsLineChartData from\"layouts/dashboard/data/reportsLineChartData\";// Dashboard components\nimport Projects from\"layouts/dashboard/components/Projects\";import OrdersOverview from\"layouts/dashboard/components/OrdersOverview\";import Popup from\"reactjs-popup\";import MDTypography from\"components/MDTypography\";import{useEffect,useState}from\"react\";import axios from\"axios\";import{API}from\"config/Api\";import sampleCSV from\"../../assets/csv/sampleformat.csv\";import MDSnackbar from\"components/MDSnackbar\";import data from\"./components/Projects/data\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Dashboard(){// States Management\nvar _useState=useState(null),_useState2=_slicedToArray(_useState,2),CSVFileUpload=_useState2[0],SetCSVFileUpload=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),UpLoading=_useState6[0],setUpLoading=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),ShowFeedStep=_useState8[0],SetShowFeedStep=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),CSVUpload=_useState10[0],SetCSVUpload=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),CSVWarn=_useState12[0],SetCSVWarn=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),CSVError=_useState14[0],SetCSVError=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),ModelTrain=_useState16[0],SetModelTrain=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),Trigger=_useState18[0],setTrigger=_useState18[1];var adminAccessToken=localStorage.getItem(\"Admin-Token\");// Function Calling\nvar downLoadSampleCSV=function downLoadSampleCSV(){var sampleCSV=\"id,question,answer,label,,,,,,\\n    1,What is Python?,Python is a high-level general-purpose programming language. Its design philosophy emphasizes code readability with the use of significant indentation. Python is dynamically typed and garbage-collected. It supports multiple programming paradigms including structured object-oriented and functional programming.,python,,,,,,\\n    ,,,,,,,,,\\n    ,,,,,,,,,\\n    ,,,,,,,,,\\n    ,,,,,,,,,\\n    ,,,,,,,,,\\n    ,,,,,,,,,\\n    ,,,,,,,,,\\n    ,,,,,,,,,\";var blob=new Blob([sampleCSV],{type:\"text/csv\"});var link=document.createElement(\"a\");link.href=window.URL.createObjectURL(blob);link.download=\"sample-csv.csv\";link.click();window.URL.revokeObjectURL(link.href);};var handleShowFeed=function handleShowFeed(){SetShowFeedStep(true);};var handleCloseFeed=function handleCloseFeed(){SetShowFeedStep(false);};var fileInputCSV=function fileInputCSV(event){SetCSVFileUpload(event.target.files[0]);};var uploadForTrain=localStorage.getItem(\"uploaded-csv\");useEffect(function(){},[data]);var FileUploadCSV=function FileUploadCSV(){SetShowFeedStep(false);setUpLoading(true);if(!CSVFileUpload){SetCSVError(true);}var formdata=new FormData();formdata.append(\"csv_file\",CSVFileUpload);axios.post(API.BASE_URL+\"csvupload/\",formdata).then(function(res){if(res.data.message===\"File uploaded and data saved successfully\"){localStorage.setItem(\"uploaded-csv\",\"Upload Nedd to Train\");SetCSVUpload(true);setTrigger(true);// setTimeout(()=>{\nsetUpLoading(false);//   // window.location.reload();\n// },2000)\n}else{setUpLoading(false);SetCSVWarn(true);}}).catch(function(err){setUpLoading(false);});};var trainModel=function trainModel(){setLoading(true);axios.post(API.BASE_URL+\"trainmodel/\",{headers:{Authorization:\"Bearer \".concat(adminAccessToken)}}).then(function(response){setLoading(false);SetModelTrain(true);localStorage.removeItem(\"uploaded-csv\");close();toast.success(\"Model trained Successfully!\",{autoClose:1000});}).catch(function(error){setLoading(false);console.error(error);});};var closeWarningSB=function closeWarningSB(){SetCSVUpload(false);SetCSVWarn(false);SetCSVError(false);SetModelTrain(false);};return/*#__PURE__*/_jsxs(DashboardLayout,{children:[/*#__PURE__*/_jsx(DashboardNavbar,{}),/*#__PURE__*/_jsxs(MDBox,{py:3,children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,md:6,lg:3,children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"heading-step\",children:[\"Step 1 \",/*#__PURE__*/_jsxs(\"span\",{className:\"successTag\",children:[\" \",uploadForTrain?\"Completed\":\"\"]})]}),/*#__PURE__*/_jsx(MDBox,{mb:1.5,onClick:uploadForTrain?null:handleShowFeed,style:uploadForTrain?{cursor:\"not-allowed\"}:{cursor:\"pointer\"},className:uploadForTrain?\"desabled\":\"\",children:/*#__PURE__*/_jsx(ComplexStatisticsCard,{className:\"desable-uploaded\",color:\"dark\",icon:uploadForTrain?\"stop\":\"upload\",title:uploadForTrain?\"Train Modal First\":\"Feed The Brain\"})}),ShowFeedStep?/*#__PURE__*/_jsx(\"div\",{className:\"modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"content-popup\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"close-div\",children:/*#__PURE__*/_jsx(\"button\",{className:\"close-button\",icon:\"close\",onClick:handleCloseFeed,children:/*#__PURE__*/_jsx(Icon,{children:\"close\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"preview-sample\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"heading\",children:\"Feed The Brain\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"info-csv\",children:[\"Please Upload an Valid CSV. If you don't have sample CSV. \",/*#__PURE__*/_jsx(\"br\",{}),\"Click on \",/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"sample-csv\",onClick:downLoadSampleCSV,children:/*#__PURE__*/_jsx(\"u\",{children:\"Get Sample CSV\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-file\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"upload-csv-file\",onChange:fileInputCSV}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"save-file\",onClick:FileUploadCSV,children:\"Upload\"})]})]})}):/*#__PURE__*/_jsx(_Fragment,{})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,md:6,lg:3,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"your-component\",children:[loading&&/*#__PURE__*/_jsx(\"div\",{className:\"overlay\"}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"loader\",children:\"Processing...\"}):/*#__PURE__*/_jsx(_Fragment,{})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"heading-step\",children:\"Step 2\"}),/*#__PURE__*/_jsxs(MDBox,{mb:1.5,children:[/*#__PURE__*/_jsx(ComplexStatisticsCard,{icon:\"psychology\",title:\"Train Model\"}),/*#__PURE__*/_jsx(MDButton,{variant:\"gradient\",color:\"success\",onClick:trainModel,children:\"Click to Train\"})]})]})]}),/*#__PURE__*/_jsxs(MDBox,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"your-component\",children:[UpLoading&&/*#__PURE__*/_jsx(\"div\",{className:\"overlay\"}),UpLoading?/*#__PURE__*/_jsx(\"div\",{className:\"loader\",children:\"Uploading CSV...\"}):/*#__PURE__*/_jsx(_Fragment,{})]}),/*#__PURE__*/_jsx(Grid,{container:true,spacing:3,children:/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,lg:12,children:/*#__PURE__*/_jsx(Projects,{trigger:Trigger,setTrigger:setTrigger})})})]})]}),/*#__PURE__*/_jsx(MDSnackbar,{color:\"success\",icon:\"star\",title:\"Uploaded\",content:\"File Uploaded Successfully!\",dateTime:\"Now\",open:CSVUpload,onClose:closeWarningSB,close:closeWarningSB,bgWhite:true}),/*#__PURE__*/_jsx(MDSnackbar,{color:\"warning\",icon:\"error\",title:\"Warning\",content:\"File must be .CSV Format!\",dateTime:\"Now\",open:CSVWarn,onClose:closeWarningSB,close:closeWarningSB,bgWhite:true}),/*#__PURE__*/_jsx(MDSnackbar,{color:\"error\",icon:\"error\",title:\"Not Uploaded\",content:\"Please Select and Upload CSV!\",dateTime:\"Now\",open:CSVError,onClose:closeWarningSB,close:closeWarningSB,bgWhite:true}),/*#__PURE__*/_jsx(MDSnackbar,{color:\"success\",icon:\"check\",title:\"Model Trained\",content:\"Model Trained Successfully!\",dateTime:\"Now\",open:ModelTrain,onClose:closeWarningSB,close:closeWarningSB,bgWhite:true})]});}export default Dashboard;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}