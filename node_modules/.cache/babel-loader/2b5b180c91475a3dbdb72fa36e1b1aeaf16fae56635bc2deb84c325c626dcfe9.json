{"ast":null,"code":"import _slicedToArray from\"/home/codenomad/Downloads/material-dashboard-react-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/ /*eslint-disable*/ // react-routers components\nimport{Link}from\"react-router-dom\";// prop-types is library for typechecking of props\n// @mui material components\nimport Card from\"@mui/material/Card\";import Divider from\"@mui/material/Divider\";import Tooltip from\"@mui/material/Tooltip\";import Icon from\"@mui/material/Icon\";// Material Dashboard 2 React components\nimport MDBox from\"components/MDBox\";import MDTypography from\"components/MDTypography\";// Material Dashboard 2 React base styles\nimport colors from\"assets/theme/base/colors\";import typography from\"assets/theme/base/typography\";import{useEffect,useState}from\"react\";import{Grid}from\"@mui/material\";import MDInput from\"components/MDInput\";import MDButton from\"components/MDButton\";import axios from\"axios\";import{API}from\"config/Api\";import MDSnackbar from\"components/MDSnackbar\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ProfileInfoCard(_ref){var title=_ref.title,description=_ref.description,info=_ref.info,action=_ref.action,shadow=_ref.shadow;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showEditForm=_useState2[0],setShowEditForm=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),userFirstName=_useState4[0],setUserFirstName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),userLastName=_useState6[0],setUserLastName=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),userEmail=_useState8[0],setUserEmail=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),userID=_useState10[0],setUserID=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),SuccessUpdateUser=_useState12[0],setSuccessUpdateUser=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),ErrorUpdateUser=_useState14[0],setErrorUpdateUser=_useState14[1];var adminAccessToken=localStorage.getItem(\"Admin-Token\");var labels=[];var values=[];var socialMediaColors=colors.socialMediaColors;var size=typography.size;useEffect(function(){setUserID(action.val);setUserEmail(info.email);var fullNameArray=info.fullName.split(\" \");// Extract the first name and last name\nsetUserFirstName(fullNameArray[0]);setUserLastName(fullNameArray.slice(1).join(\" \"));},[info,action.val]);// Convert this form `objectKey` of the object key in to this `object key`\nObject.keys(info).forEach(function(el){if(el.match(/[A-Z\\s]+/)){var uppercaseLetter=Array.from(el).find(function(i){return i.match(/[A-Z]+/);});var newElement=el.replace(uppercaseLetter,\" \".concat(uppercaseLetter.toLowerCase()));labels.push(newElement);}else{labels.push(el);}});// Push the object values into the values array\nObject.values(info).forEach(function(el){return values.push(el);});// Render the card info items\nvar renderItems=labels.map(function(label,key){return/*#__PURE__*/_jsxs(MDBox,{display:\"flex\",py:1,pr:2,children:[/*#__PURE__*/_jsxs(MDTypography,{variant:\"button\",fontWeight:\"bold\",textTransform:\"capitalize\",children:[label,\": \\xA0\"]}),/*#__PURE__*/_jsxs(MDTypography,{variant:\"button\",fontWeight:\"regular\",color:\"text\",children:[\"\\xA0\",values[key]]})]},label);});var handleShowPOP=function handleShowPOP(){setShowEditForm(true);};var handleCloseFeed=function handleCloseFeed(){setShowEditForm(false);};var handleUpdateProfile=function handleUpdateProfile(){var formData=new FormData();formData.append(\"firstname\",userFirstName);formData.append(\"lastname\",userLastName);formData.append(\"email\",userEmail);axios.put(API.BASE_URL+\"profileupdate/\"+userID+\"/\",formData,{headers:{Authorization:\"Bearer \".concat(adminAccessToken)}}).then(function(res){setSuccessUpdateUser(true);setTimeout(function(){window.location.reload();},800);}).catch(function(err){setErrorUpdateUser(true);});};var closeWarningSB=function closeWarningSB(){setSuccessUpdateUser(false);setErrorUpdateUser(false);};return/*#__PURE__*/_jsxs(Card,{sx:{height:\"100%\",boxShadow:!shadow&&\"none\"},children:[/*#__PURE__*/_jsxs(MDBox,{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",pt:2,px:2,children:[/*#__PURE__*/_jsx(MDTypography,{variant:\"h6\",fontWeight:\"medium\",textTransform:\"capitalize\",children:title}),/*#__PURE__*/_jsx(MDTypography,{component:Link,to:action.route,variant:\"body2\",color:\"secondary\",onClick:handleShowPOP,children:/*#__PURE__*/_jsx(Tooltip,{placement:\"top\",children:/*#__PURE__*/_jsx(Icon,{children:\"edit\"})})})]}),/*#__PURE__*/_jsxs(MDBox,{p:2,children:[/*#__PURE__*/_jsx(MDBox,{mb:2,lineHeight:1,children:/*#__PURE__*/_jsx(MDTypography,{variant:\"button\",color:\"text\",fontWeight:\"light\",children:description})}),/*#__PURE__*/_jsx(MDBox,{opacity:0.3,children:/*#__PURE__*/_jsx(Divider,{})}),/*#__PURE__*/_jsx(MDBox,{children:renderItems})]}),showEditForm?/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"close-div\",children:/*#__PURE__*/_jsx(\"button\",{className:\"close-button\",icon:\"close\",onClick:handleCloseFeed,children:/*#__PURE__*/_jsx(Icon,{children:\"close\"})})}),/*#__PURE__*/_jsxs(Grid,{item:true,children:[/*#__PURE__*/_jsx(MDTypography,{variant:\"h6\",fontWeight:\"medium\",textTransform:\"capitalize\",textAlign:\"center\",children:\"Edit Profile\"}),/*#__PURE__*/_jsx(MDBox,{pt:4,pb:3,px:3,children:/*#__PURE__*/_jsxs(MDBox,{component:\"form\",role:\"form\",children:[/*#__PURE__*/_jsx(MDBox,{mb:2,children:/*#__PURE__*/_jsx(MDInput,{type:\"text\",label:\"First Name\",value:userFirstName,fullWidth:true,onChange:function onChange(e){return setUserFirstName(e.target.value);}})}),/*#__PURE__*/_jsx(MDBox,{mb:2,children:/*#__PURE__*/_jsx(MDInput,{type:\"text\",label:\"Last Name\",value:userLastName,fullWidth:true,onChange:function onChange(e){return setUserLastName(e.target.value);}})}),/*#__PURE__*/_jsx(MDBox,{mb:2,children:/*#__PURE__*/_jsx(MDInput,{type:\"email\",label:\"Email\",value:userEmail,fullWidth:true,onChange:function onChange(e){return setUserEmail(e.target.value);}})}),/*#__PURE__*/_jsx(MDBox,{mt:4,mb:1,children:/*#__PURE__*/_jsx(MDButton,{variant:\"gradient\",color:\"info\",fullWidth:true,onClick:handleUpdateProfile,children:\"Update\"})})]})})]})]}),/*#__PURE__*/_jsx(MDSnackbar,{color:\"success\",icon:\"check\",title:\"Updated\",content:\"Profile Updated Successfully!\",dateTime:\"Now\",open:SuccessUpdateUser,onClose:closeWarningSB,close:closeWarningSB,bgWhite:true}),/*#__PURE__*/_jsx(MDSnackbar,{color:\"error\",icon:\"error\",title:\"Error\",content:\"Something Went worng!\",dateTime:\"Now\",open:ErrorUpdateUser,onClose:closeWarningSB,close:closeWarningSB,bgWhite:true})]}):/*#__PURE__*/_jsx(_Fragment,{})]});}// Setting default props for the ProfileInfoCard\nProfileInfoCard.defaultProps={shadow:true};// Typechecking props for the ProfileInfoCard\nexport default ProfileInfoCard;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}